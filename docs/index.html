<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Extract REDCap Databases into Tidy Tibbles • REDCapTidieR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Extract REDCap Databases into Tidy Tibbles">
<meta property="og:description" content="This package is designed to help convert REDCap exports into tidy tables for easy handling of REDCap repeat instruments and event arms.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">REDCapTidieR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="articles/REDCapTidieR.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/longitudinal_redcap.html">Working with Longitudinal REDCap Databases</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/CHOP-CGTDataOps/REDCapTidieR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="redcaptidier">REDCapTidieR<a class="anchor" aria-label="anchor" href="#redcaptidier"></a>
</h1></div>
<p align="center">
</p>
<p><img src="reference/figures/REDCapTidieR.png" alt="drawing" width="150" align="right"></p>

<!-- badges: start -->

<!-- badges: end -->
<p><a href="https://www.project-redcap.org/" class="external-link">REDCap</a> is a powerful database solution used by many research institutions:</p>
<blockquote>
<p>“REDCap is a secure web application for building and managing online surveys and databases. While REDCap can be used to collect virtually any type of data in any environment (including compliance with 21 CFR Part 11, FISMA, HIPAA, and GDPR), it is specifically geared to support online and offline data capture for research studies and operations.”</p>
</blockquote>
<p>The <a href="https://ouhscbbmc.github.io/REDCapR/" class="external-link"><code>REDCapR</code></a> package streamlines calls to the REDCap API. A common use for <code>REDCapR</code> is to download records from a REDCap project and present it to the analyst as a data frame. This works well for simple projects, however becomes ugly when complex databases that include a longitudinal structure and/or repeated instruments are involved.</p>
<p>The aim of <code>REDCapTidieR</code> is to make the life of analysts who deal with these complex databases easier. It does so by building upon <code>REDCapR</code> to make its output tidier. Instead of one large data frame, the analyst gets to work with a set of tidy tibbles, one for each REDCap instrument.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <code>REDCapTidieR</code> like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"CHOP-CGTDataOps/REDCapTidieR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/CHOP-CGTDataOps/REDCapTidieR" class="external-link">REDCapTidieR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span></code></pre></div>
<p>The two main functions of <code>REDCapTidieR</code> are <code><a href="reference/read_redcap_tidy.html">read_redcap_tidy()</a></code> and <code><a href="reference/bind_tables.html">bind_tables()</a></code>. Here is how they can be used together to import all data from a REDCap project and add a set of tidy tibbles in the global environment:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/read_redcap_tidy.html">read_redcap_tidy</a></span><span class="op">(</span><span class="va">redcap_uri</span>, <span class="va">token</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/bind_tables.html">bind_tables</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a>
</h2>
<div class="section level3">
<h3 id="structure-of-the-tibble-returned-by-read_redcap_tidy">Structure of the tibble returned by <code>read_redcap_tidy</code>
<a class="anchor" aria-label="anchor" href="#structure-of-the-tibble-returned-by-read_redcap_tidy"></a>
</h3>
<p>The <code>read_redcap_tidy</code> function returns a tibble in which each row represents a REDCap instrument. The first column (<code>redcap_form_name</code>) contains the instrument name. The second column (<code>redcap_data</code>) is a <a href="https://www.rstudio.com/resources/webinars/how-to-work-with-list-columns/" class="external-link"><strong>list column</strong></a> containing a tibble for each instrument.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">superheroes_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_redcap_tidy.html">read_redcap_tidy</a></span><span class="op">(</span><span class="va">redcap_uri</span>, <span class="va">token</span><span class="op">)</span></span>
<span></span>
<span><span class="va">superheroes_data</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   redcap_form_name   redcap_data          structure   </span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;              &lt;list&gt;               &lt;chr&gt;       </span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 super_hero_powers  &lt;tibble [5,966 × 4]&gt; repeating   </span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 heroes_information &lt;tibble [734 × 12]&gt;  nonrepeating</span></span></code></pre></div>
<p>In the above example, you can see that there is data from two instruments, <code>super_hero_powers</code> and <code>heroes_information</code>. From the <code>structure</code> column, you can see that the <code>super_hero_powers</code> instrument is <em>repeating</em> and the <code>heroes_information</code> instrument is <em>nonrepeating</em>.</p>
<p>Let’s take a look at <code>heroes_information</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">heroes_information</span> <span class="op">&lt;-</span> <span class="va">superheroes_data</span><span class="op">$</span><span class="va">redcap_data</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="va">heroes_information</span></span>
<span><span class="co">#&gt; # A tibble: 734 × 12</span></span>
<span><span class="co">#&gt;    record_id name     gender eye_c…¹ race  hair_…² height weight publi…³ skin_…⁴</span></span>
<span><span class="co">#&gt;        &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  </span></span>
<span><span class="co">#&gt;  1         0 A-Bomb   Male   yellow  Human No Hair    203    441 Marvel… -      </span></span>
<span><span class="co">#&gt;  2         1 Abe Sap… Male   blue    Icth… No Hair    191     65 Dark H… blue   </span></span>
<span><span class="co">#&gt;  3         2 Abin Sur Male   blue    Unga… No Hair    185     90 DC Com… red    </span></span>
<span><span class="co">#&gt;  4         3 Abomina… Male   green   Huma… No Hair    203    441 Marvel… -      </span></span>
<span><span class="co">#&gt;  5         4 Abraxas  Male   blue    Cosm… Black      -99    -99 Marvel… -      </span></span>
<span><span class="co">#&gt;  6         5 Absorbi… Male   blue    Human No Hair    193    122 Marvel… -      </span></span>
<span><span class="co">#&gt;  7         6 Adam Mo… Male   blue    -     Blond      -99    -99 NBC - … -      </span></span>
<span><span class="co">#&gt;  8         7 Adam St… Male   blue    Human Blond      185     88 DC Com… -      </span></span>
<span><span class="co">#&gt;  9         8 Agent 13 Female blue    -     Blond      173     61 Marvel… -      </span></span>
<span><span class="co">#&gt; 10         9 Agent B… Male   brown   Human Brown      178     81 Marvel… -      </span></span>
<span><span class="co">#&gt; # … with 724 more rows, 2 more variables: alignment &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   form_status_complete &lt;fct&gt;, and abbreviated variable names ¹​eye_color,</span></span>
<span><span class="co">#&gt; #   ²​hair_color, ³​publisher, ⁴​skin_color</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="binding-redcaptidier-tibbles-into-an-environment">Binding <code>REDCapTidieR</code> tibbles into an environment<a class="anchor" aria-label="anchor" href="#binding-redcaptidier-tibbles-into-an-environment"></a>
</h3>
<p>Above, we manually extracted the <code>heroes_information</code> tibble from the output of <code><a href="reference/read_redcap_tidy.html">read_redcap_tidy()</a></code>. This approach can become tedious when the REDCap project has lots of instruments, and there are many tibbles to extract.</p>
<p>The <code><a href="reference/bind_tables.html">bind_tables()</a></code> function takes the output of <code><a href="reference/read_redcap_tidy.html">read_redcap_tidy()</a></code>, extracts the individual tibbles, and binds them to an <a href="http://adv-r.had.co.nz/Environments.html" class="external-link">environment</a>. By default, this is the global environment:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/ls_str.html" class="external-link">ls.str</a></span><span class="op">(</span>envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">globalenv</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; superheroes_data : tibble [2 × 3] (S3: tbl_df/tbl/data.frame)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">superheroes_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/bind_tables.html">bind_tables</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/ls_str.html" class="external-link">ls.str</a></span><span class="op">(</span>envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">globalenv</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; heroes_information : tibble [734 × 12] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt; super_hero_powers : tibble [5,966 × 4] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt; superheroes_data : tibble [2 × 3] (S3: tbl_df/tbl/data.frame)</span></span></code></pre></div>
<p>Note that there are now two additional tibbles in the environment.</p>
</div>
</div>
<div class="section level2">
<h2 id="getting-help">Getting help<a class="anchor" aria-label="anchor" href="#getting-help"></a>
</h2>
<p>If you encounter a bug, please file a minimal reproducible example on <a href="https://github.com/CHOP-CGTDataOps/REDCapTidieR/issues" class="external-link">github</a>. For questions and other discussion, please feel free to reach out to the authors by email.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/CHOP-CGTDataOps/REDCapTidieR/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/CHOP-CGTDataOps/REDCapTidieR/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing REDCapTidieR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Richard Hanna <br><small class="roles"> Author, maintainer </small>  </li>
<li>Stephan Kadauke <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/CHOP-CGTDataOps/REDCapTidieR/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/CHOP-CGTDataOps/REDCapTidieR/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Richard Hanna, Stephan Kadauke.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
