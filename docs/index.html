<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This package is designed to help convert REDCap exports into tidy tables for easy handling of REDCap repeat instruments and event arms.">
<title>Extract REDCap Databases into Tidy Tibbles • REDCapTidieR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Extract REDCap Databases into Tidy Tibbles">
<meta property="og:description" content="This package is designed to help convert REDCap exports into tidy tables for easy handling of REDCap repeat instruments and event arms.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">REDCapTidieR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/REDCapTidieR.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/CHOP-CGTDataOps/REDCapTidieR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="redcaptidier">REDCapTidieR<a class="anchor" aria-label="anchor" href="#redcaptidier"></a>
</h1></div>
<p align="center">
</p>
<p><img src="reference/figures/REDCapTidieR.png" alt="drawing" width="150" align="right"></p>

<!-- badges: start -->

<!-- badges: end -->
<p><a href="https://www.project-redcap.org/" class="external-link">REDCap</a> is a powerful database solution used by many research institutions:</p>
<blockquote>
<p>“REDCap is a secure web application for building and managing online surveys and databases. While REDCap can be used to collect virtually any type of data in any environment (including compliance with 21 CFR Part 11, FISMA, HIPAA, and GDPR), it is specifically geared to support online and offline data capture for research studies and operations.”</p>
</blockquote>
<p>The <a href="https://ouhscbbmc.github.io/REDCapR/" class="external-link"><code>REDCapR</code></a> package streamlines calls to the REDCap API. Its main use is to download records from a REDCap project and present it to the analyst as a data frame. This works well for simple projects, however becomes ugly when complex databases that include longitudinal structure and/or repeated instruments are involved.</p>
<p>The aim of <code>REDCapTidieR</code> is to make the life of analysts who deal with these complex databases easier. It does so by building upon <code>REDCapR</code> to make its output tidier. Instead of one large data frame, the analyst gets to work with a set of tidy tibbles, one for each instrument.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <code>REDCapTidieR</code> like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"CHOP-CGTDataOps/REDCapTidieR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/CHOP-CGTDataOps/REDCapTidieR" class="external-link">REDCapTidieR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span></code></pre></div>
<p>The two main functions of <code>REDCapTidieR</code> are <code><a href="reference/read_redcap_tidy.html">read_redcap_tidy()</a></code> and <code><a href="reference/bind_tables.html">bind_tables()</a></code>. Here is how they can be used together to import all data from a REDCap project and present them as tidy tibbles in the global environment:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/read_redcap_tidy.html">read_redcap_tidy</a></span><span class="op">(</span><span class="va">redcap_uri</span>, <span class="va">token</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/bind_tables.html">bind_tables</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a>
</h2>
<div class="section level3">
<h3 id="structure-of-the-tibble-returned-by-read_redcap_tidy">Structure of the tibble returned by `read_redcap_tidy`<a class="anchor" aria-label="anchor" href="#structure-of-the-tibble-returned-by-read_redcap_tidy"></a>
</h3>
<p>The <code>read_redcap_tidy</code> function returns a tibble in which each row represents a REDCap instrument. The first column contains the instrument name. The second column is a <strong>list column</strong> containing a tibble for each instrument.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">redcap_export</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_redcap_tidy.html">read_redcap_tidy</a></span><span class="op">(</span><span class="va">redcap_uri</span>, <span class="va">token</span><span class="op">)</span></span>
<span></span>
<span><span class="va">redcap_export</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span><span class="co">#&gt;   redcap_form_name redcap_data      structure   </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;            &lt;list&gt;           &lt;chr&gt;       </span></span>
<span><span class="co">#&gt; 1 repeated         &lt;tibble [9 × 6]&gt; repeating   </span></span>
<span><span class="co">#&gt; 2 nonrepeated      &lt;tibble [8 × 5]&gt; nonrepeating</span></span>
<span><span class="co">#&gt; 3 nonrepeated2     &lt;tibble [3 × 5]&gt; nonrepeating</span></span></code></pre></div>
<p>REDCap databases support two main mechanisms to allow collecting the same data multiple times: repeated instruments and longitudinal projects.</p>
<p>The granularity of each table (i.e. what a single row represents) depends on the structure of the database (classic, longitudinal with one arm, longitudinal with multiple arms) as well as whether the instruments are repeatable or not. Based on this, <code>REDCapTidieR</code> tibbles contain the following columns to uniquely identify a specific row:</p>
<table style="width:100%;" class="table">
<colgroup>
<col style="width: 17%">
<col style="width: 25%">
<col style="width: 28%">
<col style="width: 28%">
</colgroup>
<thead><tr class="header">
<th>
</th>
<th>
<strong>Classic</strong>
</th>
<th>
<strong>Longitudinal, one arm</strong>
</th>
<th>
<strong>Longitudinal, multi-arm</strong>
</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>
<strong>Nonrepeated</strong>
</td>
<td>
<code>record_id</code>
</td>
<td>
<code>record_id</code> +<br><code>redcap_event</code>
</td>
<td>
<code>record_id</code> +<br><code>redcap_event</code> +<br><code>redcap_arm</code>
</td>
</tr>
<tr class="even">
<td>
<strong>Repeated</strong>
</td>
<td>
<code>record_id</code> +<br><code>redcap_repeat_instance</code>
</td>
<td>
<code>record_id</code> +<br><code>redcap_repeat_instance</code> +<br><code>redcap_event</code>
</td>
<td>
<code>record_id</code> +<br><code>redcap_repeat_instance</code> +<br><code>redcap_event</code> +<br><code>redcap_arm</code>
</td>
</tr>
</tbody>
</table>
<p>For example, the <code>repeated</code> instrument in the example database we just loaded is a repeated instrument from a multi-arm longitudinal project:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">redcap_export</span><span class="op">$</span><span class="va">redcap_data</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 6</span></span>
<span><span class="co">#&gt;   record_id redcap_repeat_instance redcap_event redcap_arm repeat_1 repeat_2</span></span>
<span><span class="co">#&gt;       &lt;dbl&gt;                  &lt;dbl&gt; &lt;chr&gt;             &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;   </span></span>
<span><span class="co">#&gt; 1         1                      1 event_1               1 1        2       </span></span>
<span><span class="co">#&gt; 2         1                      2 event_1               1 3        4       </span></span>
<span><span class="co">#&gt; 3         1                      3 event_1               1 5        6       </span></span>
<span><span class="co">#&gt; 4         1                      1 event_2               1 A        B       </span></span>
<span><span class="co">#&gt; 5         1                      2 event_2               1 C        D       </span></span>
<span><span class="co">#&gt; 6         3                      1 event_1               1 C        D       </span></span>
<span><span class="co">#&gt; 7         3                      1 event_2               1 E        F       </span></span>
<span><span class="co">#&gt; 8         3                      2 event_2               1 G        H       </span></span>
<span><span class="co">#&gt; 9         4                      1 event_3               2 R1       R2</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="binding-redcaptidier-tibbles-into-an-environment">Binding REDCapTidieR tibbles into an environment<a class="anchor" aria-label="anchor" href="#binding-redcaptidier-tibbles-into-an-environment"></a>
</h3>
<p>The <code><a href="reference/bind_tables.html">bind_tables()</a></code> function takes the output of <code>read_redcap_tidy</code>​, extracts the individual tibbles and binds them to an environment. By default, this is the global environment:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">redcap_export</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/bind_tables.html">bind_tables</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "redcap_export" "redcap_uri"    "token"</span></span></code></pre></div>
<p>Note that there are now three additional tibbles in the global environment.</p>
</div>
</div>
<div class="section level2">
<h2 id="getting-help">Getting help<a class="anchor" aria-label="anchor" href="#getting-help"></a>
</h2>
<p>If you encounter a bug, please file a minimal reproducible example on <a href="https://github.com/CHOP-CGTDataOps/REDCapTidieR/issues" class="external-link">github</a>. For questions and other discussion, please feel free to reach out to the authors by email.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/CHOP-CGTDataOps/REDCapTidieR/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/CHOP-CGTDataOps/REDCapTidieR/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing REDCapTidieR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Richard Hanna <br><small class="roles"> Author, maintainer </small>  </li>
<li>Stephan Kadauke <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/CHOP-CGTDataOps/REDCapTidieR/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/CHOP-CGTDataOps/REDCapTidieR/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Richard Hanna, Stephan Kadauke.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
